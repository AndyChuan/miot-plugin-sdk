## Modules

<dl>
<dt><a href="#module_PackageRoot">PackageRoot</a></dt>
<dd><p>扩展程序包参数, 主要来自于<a href="packageInfo.json">packageInfo.json</a> 的配置与系统本身的特性</p>
</dd>
<dt><a href="#module_PackageEvent">PackageEvent</a></dt>
<dd><p>提供插件的生命周期方法</p>
</dd>
<dt><a href="#module_Package">Package</a></dt>
<dd><p>提供进入插件时的启动参数，插件ID、版本等相关插件信息，以及离开插件传入native参数等。</p>
</dd>
</dl>

<a name="module_PackageRoot"></a>

## PackageRoot
扩展程序包参数, 主要来自于[packageInfo.json](packageInfo.json) 的配置与系统本身的特性

**Export**: public  
**Doc_name**: 插件导航模块  
**Doc_index**: 2  
**Doc_directory**: sdk  
**Example**  
```js
import {Package} from 'miot'
 import Package from 'miot/Package'

     Package.entrance
     Package.entryInfo
     Package.exitInfo={...}

    Package.pluginID
    Package.packageID
    Package.packageName
    Package.version
    Package.minApiLevel
    Package.buildType
    Package.isDebug
    Package.models

    Package.entry(App, ()=>{...});
    Package.exit({...});
```

* [PackageRoot](#module_PackageRoot)
    * [~Entrance](#module_PackageRoot..Entrance) : <code>object</code>
        * [.Main](#module_PackageRoot..Entrance.Main)
        * [.Scene](#module_PackageRoot..Entrance.Scene)
    * [~EVENT_TYPE](#module_PackageRoot..EVENT_TYPE) : <code>enum</code>

<a name="module_PackageRoot..Entrance"></a>

### PackageRoot~Entrance : <code>object</code>
扩展程序调用的入口类型

**Kind**: inner namespace of [<code>PackageRoot</code>](#module_PackageRoot)  

* [~Entrance](#module_PackageRoot..Entrance) : <code>object</code>
    * [.Main](#module_PackageRoot..Entrance.Main)
    * [.Scene](#module_PackageRoot..Entrance.Scene)

<a name="module_PackageRoot..Entrance.Main"></a>

#### Entrance.Main
主入口

**Kind**: static constant of [<code>Entrance</code>](#module_PackageRoot..Entrance)  
<a name="module_PackageRoot..Entrance.Scene"></a>

#### Entrance.Scene
场景入口

**Kind**: static constant of [<code>Entrance</code>](#module_PackageRoot..Entrance)  
<a name="module_PackageRoot..EVENT_TYPE"></a>

### PackageRoot~EVENT\_TYPE : <code>enum</code>
JS端通知Native端的事件类型

**Kind**: inner enum of [<code>PackageRoot</code>](#module_PackageRoot)  
**Properties**

| Name | Type | Default | Description |
| --- | --- | --- | --- |
| NAVIGATION_STATE_CHANGE | <code>number</code> | <code>1</code> | 插件路由发生变化 |

<a name="module_PackageEvent"></a>

## PackageEvent
提供插件的生命周期方法

**Export**: public  
**Example**  
```js
import {PackageEvent} from 'miot'
   const subscription = PackageEvent.packageWillPause.addListener(()=>{
         ...
    })
   ...
   subscription.remove()
   ...
```

* [PackageEvent](#module_PackageEvent)
    * [~extra](#module_PackageEvent..extra) : <code>Object</code>
    * [~onPluginEvent(type, data)](#module_PackageEvent..onPluginEvent)

<a name="module_PackageEvent..extra"></a>

### PackageEvent~extra : <code>Object</code>
entryInfo={entrance:scene|main,info:{json}}

**Kind**: inner constant of [<code>PackageEvent</code>](#module_PackageEvent)  
<a name="module_PackageEvent..onPluginEvent"></a>

### PackageEvent~onPluginEvent(type, data)
在插件端发生某些事件，通知native端

**Kind**: inner method of [<code>PackageEvent</code>](#module_PackageEvent)  

| Param | Type | Description |
| --- | --- | --- |
| type | <code>number</code> | 事件类型 |
| data | <code>object</code> | 传入native的数据 |

<a name="module_Package"></a>

## Package
提供进入插件时的启动参数，插件ID、版本等相关插件信息，以及离开插件传入native参数等。

**Export**: public  

* [Package](#module_Package)
    * [.exitInfo](#module_Package.exitInfo) : <code>json</code>
    * [.rnVersion](#module_Package.rnVersion)
    * [.BLEAutoCheckUpgradeOptions](#module_Package.BLEAutoCheckUpgradeOptions)
    * [.entrance](#module_Package.entrance) : <code>Entrance</code>
    * [.pageParams](#module_Package.pageParams) : <code>object</code>
    * [.entryInfo](#module_Package.entryInfo) : <code>json</code>
    * [.packageID](#module_Package.packageID) : <code>int</code>
    * [.version](#module_Package.version) : <code>string</code>
    * [.packageName](#module_Package.packageName) : <code>string</code>
    * [.minApiLevel](#module_Package.minApiLevel) : <code>int</code>
    * [.buildType](#module_Package.buildType) : <code>string</code>
    * [.isDebug](#module_Package.isDebug) : <code>boolean</code>
    * [.models](#module_Package.models) : <code>string</code>
    * [.entry(RootComponent, afterPackageEntry)](#module_Package.entry)
    * [.exit(info)](#module_Package.exit)

<a name="module_Package.exitInfo"></a>

### Package.exitInfo : <code>json</code>
退出后返回给调用者的信息, 例如自定义场景

**Kind**: static property of [<code>Package</code>](#module_Package)  
**Example**  
```js
//自定义trigger场景保存退出 finishCustomSceneSetupWithTrigger
var trigger = Package.entryInfo;
trigger.payload = { 'xxx': 'xxx' };//trigger payload 数据
Package.exitInfo = trigger;

//自定义action场景保存退出 finishCustomSceneSetupWithAction
var action = Package.entryInfo;
action.payload = { 'xxx': 'xxx' };//action payload 数据
Package.exitInfo = action;
...
Package.exit();
```
<a name="module_Package.rnVersion"></a>

### Package.rnVersion
获取React Native版本

**Kind**: static property of [<code>Package</code>](#module_Package)  
<a name="module_Package.BLEAutoCheckUpgradeOptions"></a>

### Package.BLEAutoCheckUpgradeOptions
自动BLE/Mesh设备升级检查，即使设置了alertDialog为true，也仅仅会在直连完成后才弹窗，红点进插件就可以显示

**Kind**: static property of [<code>Package</code>](#module_Package)  
**Since**: 10039  

| Param | Description |
| --- | --- |
| redPoit | 红点 |
| alertDialog | 弹窗 |
| authType | 蓝牙连接类型(0: 普通小米蓝牙协议设备(新接入设备已废弃该类型)，1: 安全芯片小米蓝牙设备（比如锁类产品） 4: Standard Auth 标准蓝牙认证协议(通常2019.10.1之后上线的新蓝牙设备) 5: mesh 设备) |

**Example**  
```js
Package.BLEAutoCheckUpgradeOptions = {
  enable: true,
  redPoint: true,
  alertDialog: true,
  authType: 5
}
```
<a name="module_Package.entrance"></a>

### Package.entrance : <code>Entrance</code>
入口类型,Main or Scene or 用户自定义（Host.ui.openPluginPage(did, pageName, pageParams) 中 pageName的值）

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.pageParams"></a>

### Package.pageParams : <code>object</code>
入口类型参数, Host.ui.openPluginPage(did, pageName, pageParams) 中 pageParams的值

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.entryInfo"></a>

### Package.entryInfo : <code>json</code>
打开rn插件时，从native传递到RN的初始化数据信息

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.packageID"></a>

### Package.packageID : <code>int</code>
小米开放平台生成的插件包 ID

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.version"></a>

### Package.version : <code>string</code>
程序包的版本号, 来自于[project.json](project.json) 的 [version](version)

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.packageName"></a>

### Package.packageName : <code>string</code>
程序包名, 来自于[project.json](project.json) 的 [package_name](package_name)

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.minApiLevel"></a>

### Package.minApiLevel : <code>int</code>
扩展程序适用的最低 API level, 来自于[project.json](project.json) 的 [min_api_level](min_api_level)

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.buildType"></a>

### Package.buildType : <code>string</code>
发布类型, debug | release

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.isDebug"></a>

### Package.isDebug : <code>boolean</code>
判断是否是调试版本

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.models"></a>

### Package.models : <code>string</code>
适配的固件 model, 来自于@link packageInfo.json 的

**Kind**: static constant of [<code>Package</code>](#module_Package)  
**Read only**: true  
<a name="module_Package.entry"></a>

### Package.entry(RootComponent, afterPackageEntry)
系统入口

**Kind**: static method of [<code>Package</code>](#module_Package)  

| Param | Type | Description |
| --- | --- | --- |
| RootComponent | <code>React.Component</code> | 入口的React Component模块 |
| afterPackageEntry | <code>function</code> | 进入后, RootComponent 加载之前执行, 缺省为空 |

**Example**  
```js
import SceneMain from '...';
import App from '...';

import {Package, Entrance} from 'miot';

switch(Package.entrance){
  case Entrance.Scene:
     Package.entry(SceneMain, ()=>{...});
     break;
  default:
     Package.entry(App, ()=>{...});
     break;
}
```
<a name="module_Package.exit"></a>

### Package.exit(info)
强制退出插件

**Kind**: static method of [<code>Package</code>](#module_Package)  

| Param | Type | Description |
| --- | --- | --- |
| info | <code>\*</code> | 如果不为空, 则等同于设置 Package.exitInfo |

**Example**  
```js
Package.exit({...});
```
**Example**  
```js
Package.exitInfo = {...}
 Package.exit();
```
